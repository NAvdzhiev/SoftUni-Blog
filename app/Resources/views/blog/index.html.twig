{% extends 'base.html.twig' %}

{% block main %}
    <div class="container body-content">
        <div class="row">
            {% for article in articles %}
                <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                    <article>
                        <header>
                            <h2 class="post-title"><a href="{{ path('article_view', {'id': article.id}) }}">{{ article.title }}</a></h2>
                        </header>

                        <p class="summary">
                            {{ article.summary }}
                        </p>
                        <p>
                            {% for tag in article.tags %}
                                <a class="btn btn-default btn-xs"
                                   href="{{ path('articles_with_tag', {'name': tag.name}) }}">{{ tag.name }}</a>
                            {% endfor %}
                        </p>

                        <small class="author">
                            Posted by {{ article.author }}
                        </small>

                        <footer>
                            <div class="pull-left">
                                <p class="meta-info">Comments: {{ article.comments|length }}</p>
                                <p class="meta-info">Posted at {{ article.dateAdded|date('h:i A, l, F j, Y') }}</p>
                            </div>

                            <div class="pull-right">
                                <a class="read btn btn-default btn-xs"
                                   href="{{ path('article_view', {'id': article.id}) }}">Read more &raquo;</a>
                            </div>
                        </footer>
                    </article>

                </div>

            {% endfor %}
        </div>
        <hr>
        <div class="pagerfanta">
            <span>{{ knp_pagination_render(articles) }}</span>
        </div>
    </div>
{% endblock %}
